<Project>
    <!--
    This file defines some common properties, items, and tasks used by core
    targets like Build, Clean, Run, etc.
    -->

    <ItemGroup>
       <PackageReference Include="Vezel.Zig.Toolsets.$(HostRuntimeIdentifier)"
                         Version="$(ZigVersion).*"
                         PrivateAssets="all"
                         IsImplicitlyDefined="true" />
    </ItemGroup>

    <PropertyGroup>
        <_ZigTasksPath Condition="'$(MSBuildRuntimeType)' == 'Core'">$(MSBuildThisFileDirectory)../tools/net6.0/Vezel.Zig.Tasks.dll</_ZigTasksPath>
        <_ZigTasksPath Condition="'$(MSBuildRuntimeType)' != 'Core'">$(MSBuildThisFileDirectory)../tools/net472/Vezel.Zig.Tasks.dll</_ZigTasksPath>
    </PropertyGroup>

    <UsingTask TaskName="ZigCompile"
               AssemblyFile="$(_ZigTasksPath)" />
    <UsingTask TaskName="ZigFormat"
               AssemblyFile="$(_ZigTasksPath)" />
</Project>
